# 스프링 웹 개발 기초

## 정적 컨텐츠

- 정적 컨텐츠는 파일을 그대로 웹 브라우저에 전달 해주는 방식이다.
- mvc나 템플릿 엔진은 서버에서 살짝 바꿔서 브라우저에 전달 하는 방식
- API - 요즘 json이라는 데이터 포맷으로 클라이언트에게 데이터를 전달 하는 방식을 API라고 한다. 요즘의 프론트 엔드인 뷰나 리액트에서 API 방식으로 통신하는 경우가 많고, 서버끼리 통신 할 때도 API를 사용한다.

- 스프링 부트는 정적 컨텐츠를 자동으로 지원한다.
- 원하는 파일을 `resource>statics` 폴더에 넣으면 그대로 반환 해준다.

![Untitled](%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%8B%E1%85%B0%E1%86%B8%20%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF%20%E1%84%80%E1%85%B5%E1%84%8E%E1%85%A9%2082f4a3472a3048778d7a04e480316d5c/Untitled.png)

1. 웹브라우저에서 hello-static.html을 접속한다
2. 톰캣 서버에선 컨트롤러를 먼저 찾아본다. 없을 때는 그 다음 우선순위인 static 폴더에서 html 파일을 찾아온다.
3. 있다면 웹브라우저에 반환해준다.

## MVC와 템플릿 엔진

- MVC란? - Model, View, Controller

### Controller

```java
@Controller
public class HelloController{
	@GetMapping("hello-mvc")
	public String helloMvc(@RequestParam("name") String name, Model model){
		model.addAttribute("name", name);
		return "hello-template";
	}
}
```

- 서버단에서 처리하는 것들은 모두 컨트롤러로
- http get 방식은 localhost:8080/hello-mvc/`?name=spring!!!` 하면 name 데이터가 들어간다.

### View

```html
<html xmlns:th="http://www.thymeleaf.org">
<body>
	<p th:text="'hello ' + ${name}">hello! empty</p>
</body>
</html>
```

![Untitled](%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%8B%E1%85%B0%E1%86%B8%20%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF%20%E1%84%80%E1%85%B5%E1%84%8E%E1%85%A9%2082f4a3472a3048778d7a04e480316d5c/Untitled%201.png)

1. 웹브라우저에서 hello-static.html을 접속한다
2. helloController가 존재하여 hello-template를 리턴해줌
3. viewResolver 즉 화면을 찾아주고 템플릿 엔진을 연결시켜주는 애임
4. 웹 브라우저에 html 반환 해줌

## API

**@ResponseBody 문자 반환**

```java
@Controller
public class HelloController{
		@GetMapping("hello-string")
		@ResponseBody
		public String helloString(@RequestParam("name") String name){
			return "hello " + name;
	}
}
```

- @ResponseBody는 html에 나오는 바디가 아니라 **http**의 바디 부의 이 데이터를 내가 직접 넣어주겠다는 뜻이다.
- 객체를 반환하면 JSON으로 변환이 된다.

![Untitled](%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%8B%E1%85%B0%E1%86%B8%20%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF%20%E1%84%80%E1%85%B5%E1%84%8E%E1%85%A9%2082f4a3472a3048778d7a04e480316d5c/Untitled%202.png)

- H`@ResponseBody`를 사용
    - HTTP의 BODY에 문자 내용을 직접 반환
    - `viewResolver` 대신에 `HttpMessageConverter`가 동작을 한다.
    - 기본 문자처리: `StringHttpMessageConverter`
    - 기본 객체처리: `MappingJackson2HttpMessageConverter`
    - byte 처리 등등 기타 여러 `HttpMessageConverter`가 기본으로 등록 되어 있다.