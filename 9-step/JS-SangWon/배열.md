---

- Key를 사용해 식별할 수 있는 값을 담은 컬랙션
- 객체라는 자료구조를 이용해 저장됨

### 배열 선언

---

```jsx
let arr = new Aray();
let arr = [];
let fruits = ["사과","오렌지","자두"];
```

- 대부분 두 번쨰 방법으로 배열을 선언함, 대괄호 안에 초기 요소를 넣어주는 것도 가능
- 각 배열 요소엔 0부터 시작하는 인덱스가 있음
    - 배열의 순서를 나타냄
- 요소 수정, 추가, 요소의 갯수,  요소 전체 출력 생략
- 배열 요소의 자료형엔 제약이 없음

```jsx
// 요소에 여러 가지 자료형이 섞여 있습니다.
let arr = [ '사과', { name: '이보라' }, true, function() { alert('안녕하세요.'); } ];
// 인덱스가 1인 요소(객체)의 name 프로퍼티를 출력합니다.
alert( arr[1].name ); // 이보라

// 인덱스가 3인 요소(함수)를 실행합니다.
arr[3](); // 안녕하세요.
```

### trailing 쉼표

---

- 배열의 마지막 요소는 객체와 마찬가지로 쉼표로 끝날 수 있음

```jsx
let fruits = [
  "사과",
  "오렌지",
  "자두",
];’
```

- trailing(길게 늘어지는)쉼표를 사용하면 모든 줄의 생김새가 유사해지기 때문에 요소를 넣거나 뺴기 쉬움

### pop·push와 shift·unshift

---

- 자바스크립트 배열을 사용하면 큐와 스택을 둘 다를 만들 수 있음
- 큐(Queue):
    - 배열을 사용해 만들 수 있는 대표적인 자료구조로, 배열과 마찬가지로 순서가 잇는 컬랙션을
        
        저장하는데 사용
        
    - 선입선출(First - In - First - Out, FIFO)자료구조
    - `push`  - 맨 끝에 요소 추가
    - `shift`  - 제일 앞 요소를 꺼내 제거한 후 남아있는 요소들을 앞으로 밀어줌
        - 이렇게 하면 두 번쨰 요소가 첫 번쨰 요소가 됨
- `스택(Stack)`
    - ‘한쪽 끝'에 요소를 더하거나 뺄 수 있게 해주는 자료구조
        - 쌓여있는 카드 맨 위에 새로운 카드를 더해주거나 빼는 것처럼
    - 가장 나중에 집어넣은 요소가 먼저 나옴
    - 후입선출(Last - In - First - Out,LIFO)자료구조
    - `push` - 요소를 스택 끝에 집어넣음
    - `pop` - 스택 끝 요소를 추출
    
- 배열 끝에 무언가를 해주는 메소드들

| pop   | 배열 끝 요소 제거 |
| --- | --- |
| push | 배열 끝에 요소 추가 |
| shift | 배열 앞 요소 제거 후, 제거한 요소 반환 |
| unshift | 배열 앞에 요소를 추가 |

### 배열의 내부 동작 원리

---

- 숫자라는 키를 사용함으로써, 배열은 객체 기본 그능 이외에도 순서가 있는 컬렉션을 제어하게 해주는 메소드 제공
- 배열은 자바스크립트의 일곱 가지 원시 자료형에 해당하지 않고, 객체형에 속해 객체처럼 동작함

```jsx
let fruits = ["바나나"]

let arr = fruits; // 참조를 복사함(두 변수가 같은 객체를 참조)

alert( arr === fruits ); // true

arr.push("배"); // 참조를 이용해 배열을 수정합니다.

alert( fruits ); // 바나나,배 - 요소가 두 개가 되었습니다.
```

- 특수한 내부 표현방식
    - 자바스크립트 엔진은 배열의 요소를 인접한 메모리 공간에 차례로 저장해 연산 속도를 높임
    - 배열을 ‘순서가 있는 자료의 컬렉션'처럼 다루지 않고 일반 객체처럼 다루면 이러나는 일
    
    ```jsx
    let fruits = []; // 빈 배열을 하나 만듭니다.
    
    fruits[99999] = 5; // 배열의 길이보다 훨씬 큰 숫자를 사용해 프로퍼티를 만듭니다.
    
    fruits.age = 25; // 임의의 이름을 사용해 프로퍼티를 만듭니다.
    ```
    
    - 배열은 객체이므로 예시처럼 원하는 프로퍼티를 추가해도 문제가 발생하지 않음.
    - 자바스크립트 엔진이 배열을 일반 객체처럼 다루게 되어 배열을 다룰 때만 적용되는 최적화 기법이 동작하지 않아 배열의 특유의 이점이 사라짐
    - 잘못된 방법의 예
        - `arr.test = 5` 같이 숫자가 아닌 값을 프로퍼티 키로 사용하는 경우
        - `arr[0]`과 `arr[1000]`만 추가하고 그사이에 아무런 요소도 없는 경우
        - `arr[1000]`, `arr[999]`같이 요소를 역순으로 채우는 경우

<aside>
✔️ 배열은 순서가 있는 자료를 저장하는 용도로 만들어진 특수한 자료구조

</aside>

### 성능

---

<aside>
✔️ `push` 와`pop` 은 빠르지만 `shift` 와 `unshift` 는 느립니다.

</aside>

- `shift` 연산은 3가지 동작을 모두 수행해야 됨
    1. index가 0인 요소를 제거
    2. 모든 요소를 왼쪽으로 이동, 이때 index 1은 0, 2는 1로 변함
    3. length 프로퍼티 값을 갱신

<aside>
✔️ 배열에 요소가 많으면 이동하는데 걸리는 시간이 길고 메모리 관련 연산도 많아짐

</aside>

- `push` 나 `pop` 은 요소 이동을 수반하지 않음
- length 프로퍼티의 값을 줄여주기만 하면 됨

### 반복문

---

- `for` 문은 배열을 순회할 때 스는 가장 오래된 방법
    
    ```jsx
    let arr = ["사과", "오렌지", "배"];
    
    for (let i = 0; i < arr.length; i++) {
      alert( arr[i] );
    }
    ```
    
- 또 다른 순회 문법으론 `for..of` 가 있음
    
    ```jsx
    let fruits = ["사과", "오렌지", "자두"];
    
    // 배열 요소를 대상으로 반복 작업을 수행합니다.
    for (let fruit of fruits) {
      alert( fruit );
    }
    ```
    
    - 현재 요소의 인덱스는 얻을 수 없고, 값만 얻을 수 있음
- `for..in`
    
    ```jsx
    let arr = ["사과", "오렌지", "배"];
    
    for (let key in arr) {
      alert( arr[key] ); // 사과, 오렌지, 배
    }
    ```
    
    1. 모든 프로퍼티를 대상으로 순회, 키 숫자가 아닌 프로퍼티도 포함됨
    2. 배열이 안이라 객체와 함꼐 사용될 때 최적화되어 있어서, 10~100배 정도 느림

### 다차원 배열

---

- 행열을 저장하는 용도

```jsx
let matrix = [
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, 9]
];

alert( matrix[1][1] ); // 5, 중심에 있는 요소
```

### toStirng

---

- 호출시 요소를 쉼표로 구분한 문자열이 반환됨

```jsx
let arr = [1, 2, 3];

alert( arr ); // 1,2,3
alert( String(arr) === '1,2,3' ); // true

alert( [] + 1 ); // "1"
alert( [1] + 1 ); // "11"
alert( [1,2] + 1 ); // "1,21

alert( "" + 1 ); // "1"
alert( "1" + 1 ); // "11"
alert( "1,2" + 1 ); // "1,21
```

- 이항 덧셈 연산자 "+"는 피연산자 중 하나가 문자열인 경우 나머지 피연산자도 문자열로 변환

<aside>
✔️ 배열은 특수한 형태의 객체, 순서가 있는 자료를 저장하고 관리하는 용도에 최적화된 자료구조

</aside>